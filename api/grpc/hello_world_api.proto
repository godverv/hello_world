syntax = "proto3";

import "google/api/annotations.proto";

package hello_world_api;

option go_package = "/hello_world";

service helloWorldAPI {
  rpc Version(Version.Request) returns (Version.Response) {
    option (google.api.http) = {
      get: "/api/version"
    };
  };

  rpc Get(Get.Request) returns (Value) {
    option (google.api.http) = {
      get: "/api/get/{key}"
    };
  }

  rpc Set(Set.Request) returns (Set.Response) {
    option (google.api.http) = {
      post: "/api/set"
      body: "*"
    };
  };
}

message Version{
  message Request{}

  message Response {
    string version = 1;
  }
}

message Value {
  string key = 1;
  string value = 2;
}

message Values {
  repeated Value values = 1;
}

message Get {
  message Request {
    string key = 1;
  }
}

message Set {
  message Request {
    Values vals = 1;
  }
  message Response{}
}